<!DOCTYPE html>
<html lang="es">

<head>
    <%- include("../partials/head.ejs") %>
        <link href="/css/create.css" rel="stylesheet">
</head>

<body>
    <%- include("../partials/header.ejs") %>

        <main>
            <form enctype="multipart/form-data" action="/products/create" method="post" class="formCreate">
                <section class="carga">
                    <section class="informacionProducto">
                        <h3>Nombre</h3>
                        <input type="text" name="nombre" id="nombre" class="campos">

                        <h3>Descripcion</h3>
                        <input type="text" name="descripcion" id="descripcion" class="descr">

                        <h3>Marca</h3>
                        <select name="marca" class="campos" required>
                
                            <% for( let i = 0; i < marcas.length; i++ ) { %>
                                    <option value=<%= i+1 %>><%= marcas[i].nombre %></option>
                            <% } %>

                        </select>

                        <h3>Forma</h3>
                        <select name="forma" class="campos" required>
                
                            <% for( let i = 0; i < formas.length; i++ ) { %>
                                <option value=<%= i+1 %>><%= formas[i].nombre %></option>
                            <% } %>

                        </select>

                        <h3>Color</h3>
                        <select name="color" class="campos" required>
                
                            <% for( let i = 0; i < colores.length; i++ ) { %>
                                <option value=<%= i+1 %>><%= colores[i].nombre %></option>
                            <% } %>

                        </select>

                        <h3>Precio</h3>
                        <input type="text" name="precio" id="precio" class="campos">

                        <h3>Stock</h3>
                        <input type="text" name="stock" id="stock" class="campos">
                    </section>

                    <section class="cargaImagen">
                        <img src="/img/profiles/default.jpg" id="preview" alt="">
                        <div class="file-select" id="src-file1">
                            <input type="file" id="file" name="imagen" aria-label="Archivo">
                        </div>
                        <% if (locals.errorimagen && errorimagen.imagen) { %>
                            <p class="mensaje-error"><small>
                                *
                                <%= errorimagen.imagen.msg %>
                            </small></p>
                            <% } %>
                    </section>

                    <section class="botones">

                        <button type="submit" class="boton">Crear Producto</a></button>
                        <ul class="lista-errores">
                            <% if (locals.errors) { errors.forEach( error => { %>
                                <li><small>
                                    *
                                    <%= error.msg %>
                                </small></li>
                                <% }) }%>
                        </ul>

                    </section>

                </section>
            </form>
            <form  enctype="multipart/form-data" action="/products/createMarca" method="post" class="formCreate">
                <section class="nuevoFiltro">

                    <section class="FiltroInput">
                        <h3 class="nombreFiltro">Nombre</h3>
                        <input type="text" name="nombreMarca" id="nombre" class="camposFiltro">
                    </section>

                    <section class="FiltroImagen">
                        <section class="cargaImagenFiltro">
                            <img src="/img/x-producto.jpg" id="preview" alt="">
                            <div class="file-select" id="src-file1">
                                <input type="file" id="file" name="imagenMarca" aria-label="Archivo">
                            </div>
                            <% if (locals.errorimagen && errorimagen.imagen) { %>
                                <p class="mensaje-error"><small>
                                    *
                                    <%= errorimagen.imagen.msg %>
                                </small></p>
                                <% } %>
                        </section>
                    </section>

                    <section class="FiltroBoton">
                        <button type="submit" class="botonFiltro">Crear Marca</a></button>
                    </section>    

                </section>
            </form>
            <form  enctype="multipart/form-data" action="/products/createColor" method="post" class="formCreate">
                <section class="nuevoFiltro">

                    <section class="FiltroInput">
                        <h3 class="nombreFiltro">Nombre</h3>
                        <input type="text" name="nombreColor" id="nombre" class="camposFiltro">
                    </section>

                    <section class="FiltroImagen">
                        <section class="cargaImagenFiltro">
                            <img src="/img/x-producto.jpg" id="preview" alt="">
                            <div class="file-select" id="src-file1">
                                <input type="file" id="file" name="imagenColor" aria-label="Archivo">
                            </div>
                            <% if (locals.errorimagen && errorimagen.imagen) { %>
                                <p class="mensaje-error"><small>
                                    *
                                    <%= errorimagen.imagen.msg %>
                                </small></p>
                                <% } %>
                        </section>
                    </section>

                    <section class="FiltroBoton">
                        <button type="submit" class="botonFiltro">Crear Color</a></button>
                    </section>    

                </section>
            </form>

        </main>

        <%- include("../partials/footer.ejs") %>
            <script src="/js/validacionesProductos.js"></script>
</body>

</html>